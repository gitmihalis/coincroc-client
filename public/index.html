<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
    <link href="//cdn.muicss.com/mui-0.9.39-rc1/css/mui.min.css" rel="stylesheet" type="text/css" />
    <title>Coincroc | Cryptocurrency industry index</title>
  </head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <div id="root"></div>
    <script src="//cdn.muicss.com/mui-0.9.39-rc1/js/mui.min.js"></script>
    <!-- compressed jQuery  --> 
    <script
        src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
        crossorigin="anonymous"></script>
    <!--  Greedy Navbar -->

    <script>

    $(function() {

      var $nav = $('nav.greedy');
      var $btn = $('nav.greedy button');
      var $vlinks = $('nav.greedy .links');
      var $hlinks = $('nav.greedy .hidden-links');

      var numOfItems = 0;
      var totalSpace = 0;
      var breakWidths = [];

      // Get initial state
      $vlinks.children().outerWidth(function(i, w) {
        totalSpace += w;
        numOfItems += 1;
        breakWidths.push(totalSpace);
      });

      var availableSpace, numOfVisibleItems, requiredSpace;

      function check() {

        // Get instant state
        availableSpace = $vlinks.width() - 10;
        numOfVisibleItems = $vlinks.children().length;
        requiredSpace = breakWidths[numOfVisibleItems - 1];

        // There is not enought space
        if (requiredSpace > availableSpace) {
          $vlinks.children().last().prependTo($hlinks);
          numOfVisibleItems -= 1;
          check();
          // There is more than enough space
        } else if (availableSpace > breakWidths[numOfVisibleItems]) {
          $hlinks.children().first().appendTo($vlinks);
          numOfVisibleItems += 1;
        }
        // Update the button accordingly
        $btn.attr("count", numOfItems - numOfVisibleItems);
        if (numOfVisibleItems === numOfItems) {
          $btn.addClass('hidden');
        } else $btn.removeClass('hidden');
      }

      // Window listeners
      $(window).resize(function() {
        check();
      });

      $btn.on('click', function() {
        $hlinks.toggleClass('hidden');
      });

      check();

    });
    </script>      
  </body>
</html>
